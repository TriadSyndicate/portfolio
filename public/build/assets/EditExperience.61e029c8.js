import{c as a,b as t,t as u,p as m,h as s,l,F as x,q as h,m as g,o as c}from"./app.8c20fed2.js";import{_ as b}from"./_plugin-vue_export-helper.cdc0426e.js";const y={props:["experience"],data(){return{title:this.experience.title,company:this.experience.company,location:this.experience.location,start_date:this.experience.start_date,end_date:this.experience.end_date,description:this.experience.description,description_entry:"",company_logo:"",tech_stacks:[]}},methods:{onFileChange(o){this.company_logo=o.target.files[0]},onFileChangeStack(o){this.tech_stacks=o.target.files},addDescription(){this.description.push(this.description_entry),this.description_entry=""},submitx(){let o=new FormData;if(o.append("title",this.title),o.append("company",this.company),o.append("location",this.location),o.append("start_date",this.start_date),o.append("end_date",this.end_date),this.company_logo!=""&&o.append("company_logo",this.company_logo),this.tech_stacks.length>0)for(let e=0;e<this.tech_stacks.length;e++)o.append("tech_stacks[]",this.tech_stacks[e]);if(this.description!="")for(let e=0;e<this.description.length;e++)o.append("description[]",this.description[e]);axios.post(route("experience.update",{id:this.experience.id}),o,{headers:{"Content-Type":"multipart/form-data"}}).then(e=>{e.data.experience&&this.$swal({title:"Success!",text:`Your experience as ${e.data.experience.title} at ${e.data.experience.company} Updated`,icon:"success",timer:2e3,buttons:!1}).then(()=>{this.$inertia.reload()})}).catch(e=>{this.$swal.fire("Error!",`Something went wrong, please try again ${e.response.data.message}`,"error")})},printErrorMsg(o){$("#editExperienceErrors{{ experience.id }}").find("ul").html(""),$("#editExperienceErrors{{ experience.id }}").removeClass("hidden").addClass("block"),$.each(o,function(e,r){$("#editExperienceErrors{{ experience.id }}").find("ul").append("<li>"+r+"</li>")})},toggleModal(o){document.getElementById(o).classList.toggle("hidden"),document.getElementById(o+"-backdrop").classList.toggle("hidden"),document.getElementById(o).classList.toggle("flex"),document.getElementById(o+"-backdrop").classList.toggle("flex")}}},_=["id"],f={class:"relative w-auto my-6 mx-auto max-w-3xl"},k={class:"border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-white outline-none focus:outline-none"},E={class:"flex items-start justify-between p-5 border-b border-solid border-slate-200 rounded-t"},w={class:"text-3xl font-semibold"},v=t("span",{class:"text-red-500 opacity-90 h-6 w-6 text-2xl block outline-none focus:outline-none"}," x ",-1),C=[v],F=["id"],S=t("ul",null,null,-1),D=[S],L={class:"relative p-6 flex-auto"},U=["id"],V=["src","alt"],B=t("label",{for:"company_logo"},"Logo",-1),M={class:"flex"},T=["src"],W=t("label",{for:"tech_stacks"},"Tech Stacks",-1),j=t("label",{for:"start_date"},"Start Date",-1),z=t("label",{for:"end_date"},"End Date",-1),I=t("label",{for:"description-entry"},"Experience Description",-1),K={class:"flex items-center justify-end p-6 border-t border-solid border-slate-200 rounded-b"},q=["id"];function N(o,e,r,Y,i,d){return c(),a("div",null,[t("div",{class:"hidden overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none justify-center items-center",id:"modal-id"+r.experience.id},[t("div",f,[t("div",k,[t("div",E,[t("h3",w," Work Experience Edit ID: "+u(r.experience.id),1),t("button",{class:"p-1 ml-auto bg-transparent border-0 text-red-500 bg-white opacity-100 float-right text-5xl leading-none font-bold outline-none focus:outline-none",onClick:e[0]||(e[0]=n=>d.toggleModal("modal-id"+r.experience.id))},C)]),t("div",{id:"editExperienceErrors"+r.experience.id,class:"bg-red-200 hidden rounded-lg py-5 px-6 mb-4 text-base text-red-700 p-3",role:"alert"},D,8,F),t("div",L,[t("form",{onSubmit:e[12]||(e[12]=m(()=>{},["prevent"])),id:"experienceForm"+r.experience.id,class:"flex flex-col space-y-2 w-fit mx-auto"},[s(t("input",{type:"text",placeholder:"Work Title",name:"title","onUpdate:modelValue":e[1]||(e[1]=n=>i.title=n),class:"border border-gray-300 rounded-md p-2"},null,512),[[l,i.title]]),s(t("input",{type:"text",name:"company","onUpdate:modelValue":e[2]||(e[2]=n=>i.company=n),placeholder:"Company",class:"border border-gray-300 rounded-md p-2"},null,512),[[l,i.company]]),t("img",{class:"w-10",src:r.experience.company_logo.replace("public/","storage/"),alt:r.experience.company},null,8,V),B,t("input",{name:"company_logo",type:"file",onChange:e[3]||(e[3]=(...n)=>d.onFileChange&&d.onFileChange(...n)),ref:"company_logo",placeholder:"Company Logo",class:"border border-gray-300 rounded-md p-2"},null,544),t("div",M,[(c(!0),a(x,null,h(r.experience.tech_stacks,(n,p)=>(c(),a("img",{class:"w-10",key:p,src:n.replace("public/","storage/")},null,8,T))),128))]),W,t("input",{name:"tech_stacks",type:"file",multiple:"",onChange:e[4]||(e[4]=(...n)=>d.onFileChangeStack&&d.onFileChangeStack(...n)),ref:"tech_stacks",class:"border border-gray-300 rounded-md p-2"},null,544),s(t("input",{type:"text",name:"location","onUpdate:modelValue":e[5]||(e[5]=n=>i.location=n),placeholder:"Location",class:"border border-gray-300 rounded-md p-2"},null,512),[[l,i.location]]),j,s(t("input",{type:"date",name:"start_date","onUpdate:modelValue":e[6]||(e[6]=n=>i.start_date=n),class:"border border-gray-300 rounded-md p-2"},null,512),[[l,i.start_date]]),z,s(t("input",{type:"date",name:"end_date","onUpdate:modelValue":e[7]||(e[7]=n=>i.end_date=n),class:"border border-gray-300 rounded-md p-2"},null,512),[[l,i.end_date]]),I,s(t("input",{name:"description-entry","onUpdate:modelValue":e[8]||(e[8]=n=>i.description_entry=n),onKeyup:e[9]||(e[9]=g((...n)=>d.addDescription&&d.addDescription(...n),["enter"])),placeholder:"Work",class:"border border-gray-300 rounded-md p-2"},null,544),[[l,i.description_entry,void 0,{trim:!0}]]),s(t("textarea",{name:"description","onUpdate:modelValue":e[10]||(e[10]=n=>i.description=n),disabled:"",placeholder:"Work Experience Summary",class:"border text-white border-gray-300 bg-slate-700 rounded-md p-2"},null,512),[[l,i.description]]),t("button",{type:"button",onClick:e[11]||(e[11]=(...n)=>d.submitx&&d.submitx(...n)),class:"bg-green-500 py-2 rounded-md text-white font-bold text-lg"}," Edit Experience ")],40,U)]),t("div",K,[t("button",{class:"text-red-500 background-transparent font-bold uppercase px-6 py-2 text-sm outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"button",onClick:e[13]||(e[13]=n=>d.toggleModal("modal-id"+r.experience.id))}," Close ")])])])],8,_),t("div",{class:"hidden opacity-25 fixed inset-0 z-40 bg-black",id:"modal-id"+r.experience.id+"-backdrop"},null,8,q)])}const H=b(y,[["render",N]]);export{H as default};
